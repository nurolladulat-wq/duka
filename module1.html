<!DOCTYPE html>
<html lang="kk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Модуль 1 - Өсімдіктер әлеміне кіріспе</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(to bottom, #e8f5e9, #c8e6c9);
            color: #33691e;
            min-height: 100vh;
            padding: 15px;
            font-size: 14px;
            line-height: 1.5;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.98);
            border-radius: 12px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: linear-gradient(135deg, #4caf50, #2e7d32);
            color: white;
            flex-wrap: wrap;
        }
        
        .logo {
            font-size: 1.3rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            text-decoration: none;
            color: white;
        }
        
        .logo i {
            margin-right: 8px;
        }
        
        .header-controls {
            display: flex;
            align-items: center;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .user-info {
            display: flex;
            align-items: center;
            gap: 10px;
            color: white;
            font-size: 0.9rem;
        }
        
        .user-avatar {
            width: 35px;
            height: 35px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .logout-btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.85rem;
        }
        
        .logout-btn:hover {
            background: white;
            color: #2e7d32;
        }
        
        .language-switcher {
            display: flex;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 16px;
            padding: 3px;
        }
        
        .language-btn {
            padding: 5px 12px;
            border: none;
            background: none;
            border-radius: 14px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
            color: white;
            font-size: 0.85rem;
        }
        
        .language-btn.active {
            background: white;
            color: #2e7d32;
        }
        
        .version-switcher {
            display: flex;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 16px;
            padding: 3px;
        }
        
        .version-btn {
            padding: 5px 12px;
            border: none;
            background: none;
            border-radius: 14px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
            color: white;
            display: flex;
            align-items: center;
            gap: 4px;
            font-size: 0.85rem;
        }
        
        .version-btn.active {
            background: white;
            color: #2e7d32;
        }
        
        .version-btn i {
            font-size: 0.8rem;
        }
        
        .back-btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 16px;
            cursor: pointer;
            display: flex;
            align-items: center;
            text-decoration: none;
            transition: all 0.3s ease;
            font-size: 0.85rem;
        }
        
        .back-btn i {
            margin-right: 6px;
        }
        
        .back-btn:hover {
            background: white;
            color: #2e7d32;
        }
        
        .module-content {
            padding: 25px;
        }
        
        .module-header {
            text-align: center;
            margin-bottom: 30px;
            position: relative;
        }
        
        .completion-badge {
            position: absolute;
            top: 5px;
            right: 5px;
            background: #4caf50;
            color: white;
            padding: 6px 12px;
            border-radius: 16px;
            font-size: 0.8rem;
            display: none;
        }
        
        .module-title {
            font-size: 1.8rem;
            color: #2e7d32;
            margin-bottom: 12px;
        }
        
        .module-subtitle {
            color: #689f38;
            font-size: 1rem;
            max-width: 700px;
            margin: 0 auto;
            line-height: 1.5;
        }
        
        .progress-indicator {
            margin: 15px 0;
            text-align: center;
        }
        
        .progress-text {
            color: #558b2f;
            font-weight: 600;
            margin-bottom: 8px;
            font-size: 0.9rem;
        }
        
        .content-section {
            margin-bottom: 30px;
            padding: 20px;
            background: #f9fbf8;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            position: relative;
            transition: all 0.3s ease;
        }
        
        .content-section.active {
            box-shadow: 0 6px 20px rgba(76, 175, 80, 0.2);
            border-left: 4px solid #4caf50;
        }
        
        .section-completion {
            position: absolute;
            top: 12px;
            right: 12px;
            color: #4caf50;
            font-size: 1rem;
            display: none;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .section-completion:hover {
            transform: scale(1.1);
        }
        
        .section-title {
            font-size: 1.4rem;
            color: #558b2f;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 2px solid #c5e1a5;
            display: flex;
            align-items: center;
            cursor: pointer;
        }
        
        .section-title i {
            margin-right: 10px;
            color: #4caf50;
            transition: transform 0.3s ease;
        }
        
        .section-title.collapsed i {
            transform: rotate(-90deg);
        }
        
        .section-content {
            line-height: 1.6;
            font-size: 0.95rem;
            color: #333;
            transition: all 0.3s ease;
            max-height: 1000px;
            overflow: hidden;
        }
        
        .section-content.collapsed {
            max-height: 0;
            opacity: 0;
        }
        
        .section-content p {
            margin-bottom: 15px;
            text-align: justify;
        }
        
        .important-note {
            background: #e8f5e9;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid #4caf50;
        }
        
        .important-note h4 {
            color: #2e7d32;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            font-size: 1rem;
        }
        
        .important-note h4 i {
            margin-right: 8px;
        }
        
        .desktop-version .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            overflow: hidden;
            font-size: 0.9rem;
        }
        
        .desktop-version .comparison-table th, 
        .desktop-version .comparison-table td {
            padding: 12px;
            text-align: left;
            border: 1px solid #c5e1a5;
        }
        
        .desktop-version .comparison-table th {
            background: #4caf50;
            color: white;
            font-weight: 600;
        }
        
        .desktop-version .comparison-table tr:nth-child(even) {
            background: #f1f8e9;
        }
        
        .mobile-version .mobile-cards {
            margin: 20px 0;
        }
        
        .mobile-version .mobile-card {
            background: white;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 12px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            border-left: 3px solid #4caf50;
        }
        
        .mobile-version .mobile-card h4 {
            color: #2e7d32;
            margin-bottom: 12px;
            font-size: 1.1rem;
        }
        
        .mobile-version .card-row {
            display: flex;
            flex-direction: column;
            margin-bottom: 8px;
            padding-bottom: 8px;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .mobile-version .card-row:last-child {
            margin-bottom: 0;
            padding-bottom: 0;
            border-bottom: none;
        }
        
        .mobile-version .card-label {
            font-weight: 600;
            color: #558b2f;
            margin-bottom: 4px;
            font-size: 0.9rem;
        }
        
        .mobile-version .card-value {
            color: #333;
            font-size: 0.9rem;
            line-height: 1.4;
        }

        .desktop-version .mobile-cards,
        .mobile-version .comparison-table {
            display: none;
        }

        .interactive-element {
            background: #fff;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border-left: 3px solid #4caf50;
        }
        
        .interactive-title {
            display: flex;
            align-items: center;
            cursor: pointer;
            margin-bottom: 12px;
            font-weight: 600;
            color: #2e7d32;
            font-size: 0.95rem;
        }
        
        .interactive-title i {
            margin-right: 8px;
            transition: transform 0.3s ease;
        }
        
        .interactive-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }
        
        .interactive-element.active .interactive-content {
            max-height: 500px;
        }
        
        .interactive-element.active .interactive-title i {
            transform: rotate(90deg);
        }
        
        .bookmark-btn {
            position: absolute;
            top: 12px;
            left: 12px;
            background: rgba(255, 255, 255, 0.8);
            border: none;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: #757575;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }
        
        .bookmark-btn.active {
            color: #ff9800;
        }
        
        .bookmark-btn:hover {
            background: white;
            transform: scale(1.1);
        }

        .slide-section {
            margin: 30px 0;
            text-align: center;
        }
        
        .slide-container {
            position: relative;
            width: 100%;
            height: 0;
            padding-bottom: 60%;
            overflow: hidden;
            border-radius: 8px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
            margin: 15px 0;
        }
        
        .slide-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }
        
        .slide-note {
            margin-top: 12px;
            font-style: italic;
            color: #689f38;
            font-size: 0.9rem;
        }
        
        .video-section {
            margin: 30px 0;
            text-align: center;
        }
        
        .video-container {
            position: relative;
            width: 100%;
            height: 0;
            padding-bottom: 56.25%;
            overflow: hidden;
            border-radius: 8px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
            margin: 15px 0;
        }
        
        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }
        
        .video-note {
            margin-top: 12px;
            font-style: italic;
            color: #689f38;
            font-size: 0.9rem;
        }
        
        .completion-message {
            background: #e8f5e9;
            border: 2px solid #4caf50;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            margin: 25px 0;
            display: none;
        }
        
        .completion-message h3 {
            color: #2e7d32;
            margin-bottom: 8px;
            font-size: 1.2rem;
        }
        
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
            gap: 15px;
        }
        
        .nav-btn {
            background: linear-gradient(135deg, #4caf50, #2e7d32);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 600;
            display: flex;
            align-items: center;
            transition: all 0.3s ease;
            text-decoration: none;
            font-size: 0.9rem;
            flex: 1;
            justify-content: center;
        }
        
        .nav-btn i {
            margin: 0 6px;
        }
        
        .nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(76, 175, 80, 0.4);
        }
        
        .nav-btn:disabled {
            background: #cccccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .test-btn {
            background: linear-gradient(135deg, #ff9800, #f57c00);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 600;
            display: flex;
            align-items: center;
            transition: all 0.3s ease;
            text-decoration: none;
            margin: 15px auto;
            font-size: 1rem;
        }
        
        .test-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255, 152, 0, 0.4);
        }
        
        footer {
            text-align: center;
            padding: 20px;
            background: linear-gradient(135deg, #4caf50, #2e7d32);
            color: white;
            margin-top: 30px;
            font-size: 0.85rem;
        }
        
        .author {
            font-weight: 600;
            cursor: pointer;
            text-decoration: underline;
        }
        
        .notes-section {
            margin: 25px 0;
            background: #fffde7;
            border-radius: 8px;
            padding: 15px;
            border-left: 3px solid #ffd54f;
        }
        
        .notes-title {
            color: #f57f17;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            font-size: 1.1rem;
        }
        
        .notes-title i {
            margin-right: 8px;
        }
        
        .notes-textarea {
            width: 100%;
            min-height: 80px;
            border: 1px solid #ffe082;
            border-radius: 5px;
            padding: 8px;
            font-family: inherit;
            resize: vertical;
            font-size: 0.9rem;
        }
        
        .save-notes-btn {
            background: #ffb300;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 8px;
            transition: all 0.3s ease;
            font-size: 0.85rem;
        }
        
        .save-notes-btn:hover {
            background: #ff8f00;
        }
        
        ul {
            padding-left: 20px;
            margin: 15px 0;
        }
        
        li {
            margin-bottom: 8px;
            line-height: 1.5;
        }
        
        /* Адаптивность для мобильных устройств */
        @media (max-width: 768px) {
            body {
                padding: 10px;
                font-size: 13px;
            }
            
            .container {
                border-radius: 10px;
            }
            
            .module-content {
                padding: 15px;
            }
            
            .module-title {
                font-size: 1.4rem;
                margin-bottom: 10px;
            }
            
            .module-subtitle {
                font-size: 0.9rem;
            }
            
            header {
                flex-direction: column;
                gap: 10px;
                text-align: center;
                padding: 12px;
            }
            
            .header-controls {
                flex-direction: column;
                gap: 8px;
                width: 100%;
            }
            
            .user-info {
                flex-direction: column;
                gap: 8px;
            }
            
            .navigation-buttons {
                flex-direction: column;
                gap: 10px;
            }
            
            .nav-btn {
                width: 100%;
                padding: 8px 16px;
                font-size: 0.85rem;
            }

            .slide-container, .video-container {
                padding-bottom: 65%;
            }
            
            .language-switcher, .version-switcher {
                width: 100%;
                justify-content: center;
            }
            
            .mobile-version .section-title {
                font-size: 1.2rem;
                margin-bottom: 12px;
            }
            
            .mobile-version .section-content {
                font-size: 0.9rem;
                line-height: 1.5;
            }
            
            .mobile-version .section-content p {
                margin-bottom: 12px;
            }
            
            .mobile-version .important-note {
                padding: 12px;
                margin: 15px 0;
            }
            
            .mobile-version .important-note h4 {
                font-size: 0.95rem;
            }
            
            .mobile-version .interactive-element {
                padding: 12px;
                margin: 12px 0;
            }
            
            .mobile-version .interactive-title {
                font-size: 0.9rem;
            }
            
            .mobile-version .mobile-card {
                padding: 12px;
                margin-bottom: 10px;
            }
            
            .mobile-version .mobile-card h4 {
                font-size: 1rem;
                margin-bottom: 10px;
            }
            
            .mobile-version .card-row {
                margin-bottom: 6px;
                padding-bottom: 6px;
            }
            
            .mobile-version .card-label {
                font-size: 0.85rem;
                margin-bottom: 3px;
            }
            
            .mobile-version .card-value {
                font-size: 0.85rem;
            }
            
            .test-btn {
                padding: 10px 20px;
                font-size: 0.9rem;
                margin: 12px auto;
            }
            
            .back-btn, .logout-btn {
                padding: 6px 12px;
                font-size: 0.8rem;
            }
            
            .notes-section {
                margin: 20px 0;
                padding: 12px;
            }
            
            .notes-title {
                font-size: 1rem;
                margin-bottom: 8px;
            }
            
            .notes-textarea {
                min-height: 70px;
                font-size: 0.85rem;
            }
            
            .save-notes-btn {
                padding: 5px 10px;
                font-size: 0.8rem;
            }
            
            .progress-indicator {
                margin: 12px 0;
            }
            
            .progress-text {
                font-size: 0.85rem;
            }
            
            .mobile-version ul {
                padding-left: 18px;
            }
            
            .mobile-version li {
                margin-bottom: 6px;
                font-size: 0.9rem;
            }
            
            .content-section {
                padding: 15px;
                margin-bottom: 20px;
            }
            
            .section-title {
                font-size: 1.2rem;
            }
            
            .bookmark-btn {
                width: 28px;
                height: 28px;
                top: 10px;
                left: 10px;
            }
        }
        
        @media (max-width: 480px) {
            body {
                padding: 8px;
                font-size: 12px;
            }
            
            .module-content {
                padding: 12px;
            }
            
            .module-title {
                font-size: 1.2rem;
            }
            
            .content-section {
                padding: 12px;
                margin-bottom: 15px;
            }
            
            .mobile-version .section-title {
                font-size: 1.1rem;
            }
            
            .mobile-version .mobile-card {
                padding: 10px;
            }
            
            .mobile-version .mobile-card h4 {
                font-size: 0.95rem;
            }
            
            .language-btn, .version-btn {
                padding: 4px 10px;
                font-size: 0.75rem;
            }
            
            .version-btn span {
                display: none;
            }
            
            .version-btn i {
                margin-right: 0;
                font-size: 0.9rem;
            }
            
            .logo {
                font-size: 1.1rem;
            }
            
            .test-btn {
                padding: 8px 16px;
                font-size: 0.85rem;
            }
            
            .nav-btn {
                padding: 8px 14px;
                font-size: 0.8rem;
            }
        }
        
        .mobile-version * {
            max-width: 100%;
            box-sizing: border-box;
        }
        
        .mobile-version img,
        .mobile-version iframe,
        .mobile-version video {
            max-width: 100%;
            height: auto;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <a href="modules.html" class="logo">
                <i class="fas fa-leaf"></i> <span id="logo-text">Жасыл әлем</span>
            </a>
            
            <div class="header-controls">
                <div class="user-info" id="user-info" style="display: none;">
                    <div class="user-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <span id="user-name">Пайдаланушы</span>
                    <button class="logout-btn" id="logout-btn">
                        <i class="fas fa-sign-out-alt"></i> <span id="logout-text">Шығу</span>
                    </button>
                </div>
                
                <div class="language-switcher">
                    <button class="language-btn" id="ru-btn">Рус</button>
                    <button class="language-btn active" id="kz-btn">Қаз</button>
                </div>
                
                <div class="version-switcher">
                    <button class="version-btn active" id="desktop-btn">
                        <i class="fas fa-desktop"></i> <span>Компьютер</span>
                    </button>
                    <button class="version-btn" id="mobile-btn">
                        <i class="fas fa-mobile-alt"></i> <span>Телефон</span>
                    </button>
                </div>
                
                <a href="modules.html" class="back-btn">
                    <i class="fas fa-arrow-left"></i> <span id="back-text">Модульдер тізімі</span>
                </a>
            </div>
        </header>
        
        <div class="module-content">
            <div class="module-header">
                <div class="completion-badge" id="completion-badge">
                    <i class="fas fa-check-circle"></i> <span id="completed-text">Аяқталды</span>
                </div>
                <h1 class="module-title" id="module-title">Модуль 1: Өсімдіктер әлеміне кіріспе</h1>
                <p class="module-subtitle" id="module-subtitle">Өсімдіктердің жіктелуі, құрылымы және табиғаттағы маңызы</p>
                
                <div class="progress-indicator">
                    <div class="progress-text" id="progress-text">Оқу процесі: <span id="progress-percent">0%</span></div>
                </div>
            </div>
            
            <div class="notes-section">
                <h3 class="notes-title"><i class="fas fa-sticky-note"></i> <span id="notes-title">Жеке жазбалар</span></h3>
                <textarea class="notes-textarea" id="user-notes" placeholder="Модуль бойынша жазбаларыңызды осы жерге жазыңыз..."></textarea>
                <button class="save-notes-btn" id="save-notes-btn">
                    <i class="fas fa-save"></i> <span id="save-notes-text">Сақтау</span>
                </button>
            </div>
            
            <div class="desktop-version" id="desktop-version">
                <!-- Desktop content will be loaded here -->
            </div>
            
            <div class="mobile-version" id="mobile-version" style="display: none;">
                <!-- Mobile content will be loaded here -->
            </div>
            
            <div class="completion-message" id="completion-message">
                <h3><i class="fas fa-trophy"></i> <span id="congrats-text">Құттықтаймыз!</span></h3>
                <p id="completion-desc">Сіз бұл модульді сәтті аяқтадыңыз. Келесі модульге өтуге дайынсыз!</p>
            </div>
            
            <div style="text-align: center; margin: 20px 0;">
                <a href="test1.html" class="test-btn" id="test-btn">
                    <i class="fas fa-graduation-cap"></i> <span id="test-btn-text">Модуль бойынша тестті тапсыру</span>
                </a>
            </div>
            
            <div class="navigation-buttons">
                <a href="modules.html" class="nav-btn">
                    <i class="fas fa-arrow-left"></i> <span id="prev-btn">Модульдер тізімі</span>
                </a>
                <a href="module2.html" class="nav-btn" id="next-module-btn">
                    <span id="next-btn">Келесі модуль</span> <i class="fas fa-arrow-right"></i>
                </a>
            </div>
        </div>
        
        <footer>
            <p>7-сыныпқа арналған биологияны оқыту платформасы | <span class="author">Автор</span></p>
        </footer>
    </div>

    <script>
        // ==================== СИСТЕМА ВЕРСИЙ ====================
        
        function setupVersionSwitcher() {
            const desktopBtn = document.getElementById('desktop-btn');
            const mobileBtn = document.getElementById('mobile-btn');
            const desktopVersion = document.getElementById('desktop-version');
            const mobileVersion = document.getElementById('mobile-version');
            
            const savedVersion = localStorage.getItem('preferredVersion') || 'desktop';
            
            if (savedVersion === 'mobile') {
                switchToMobile();
            } else {
                switchToDesktop();
            }
            
            desktopBtn.addEventListener('click', switchToDesktop);
            mobileBtn.addEventListener('click', switchToMobile);
            
            function switchToDesktop() {
                desktopBtn.classList.add('active');
                mobileBtn.classList.remove('active');
                desktopVersion.style.display = 'block';
                mobileVersion.style.display = 'none';
                localStorage.setItem('preferredVersion', 'desktop');
                loadDesktopContent();
            }
            
            function switchToMobile() {
                mobileBtn.classList.add('active');
                desktopBtn.classList.remove('active');
                mobileVersion.style.display = 'block';
                desktopVersion.style.display = 'none';
                localStorage.setItem('preferredVersion', 'mobile');
                loadMobileContent();
            }
        }
        
        function loadDesktopContent() {
            const desktopVersion = document.getElementById('desktop-version');
            desktopVersion.innerHTML = `
                <div class="content-section" id="section1">
                    <button class="bookmark-btn" id="bookmark1" data-section="section1">
                        <i class="far fa-bookmark"></i>
                    </button>
                    <div class="section-completion" id="section1-completion">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <h2 class="section-title" id="section1-title-toggle">
                        <i class="fas fa-chevron-down"></i> <span id="section1-title">Өсімдіктер деген не? Табиғаттағы рөлі</span>
                    </h2>
                    <div class="section-content" id="section1-content">
                        <p id="section1-p1">Өсімдіктер - бұл көпжасушалы организмдер (кейбір біржасушалы балдырларды қоспағанда), фотосинтез арқылы органикалық заттар мен оттегі өндіре алатын, ол Жердегі өмірдің негізі болып табылады. Олар азық тізбегінің бастапқы буыны болып табылады және көптеген жануарлар, саңырауқұлақтар мен микроорганизмдерге азық болып, сондай-ақ олардың тіршілік ортасы қызметін атқарады.</p>
                        
                        <div class="important-note">
                            <h4><i class="fas fa-lightbulb"></i> <span id="important-note1">Негізгі айырмашылық</span></h4>
                            <p id="important-note1-text">Өсімдіктердің басқа организмдерден негізгі айырмашылығы - олар күн энергиясы, су және көмірқышқыл газын пайдаланып органикалық заттарды өздері жасай алады (автотрофты азықтану). Сонымен қатар, өсімдіктер әдетте бекітілген тіршілік етеді және бүкіл өмірінде өседі.</p>
                        </div>
                        
                        <div class="interactive-element" id="interactive1">
                            <div class="interactive-title">
                                <i class="fas fa-chevron-right"></i>
                                <span id="interactive1-title">Фотосинтез туралы қосымша ақпарат</span>
                            </div>
                            <div class="interactive-content">
                                <p id="interactive1-text">Фотосинтез - бұл өсімдіктердің күн энергиясын химиялық энергияға айналдыру процесі. Бұл процесс кезінде көмірқышқыл газы мен су қант пен оттегіге айналады. Фотосинтез теңдеуі: 6CO₂ + 6H₂O + жарық энергиясы → C₆H₁₂O₆ + 6O₂</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="content-section" id="section2">
                    <button class="bookmark-btn" id="bookmark2" data-section="section2">
                        <i class="far fa-bookmark"></i>
                    </button>
                    <div class="section-completion" id="section2-completion">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <h2 class="section-title" id="section2-title-toggle">
                        <i class="fas fa-chevron-down"></i> <span id="section2-title">Өсімдіктердің клеткалық құрылымы</span>
                    </h2>
                    <div class="section-content" id="section2-content">
                        <p id="section2-p1">Өсімдік клеткаларының бірқатар ерекше органеллалары бар, олар өсімдіктерге өзіндік қасиеттер береді:</p>
                        
                        <ul id="section2-list">
                            <li>Клетка қабырғасы - целлюлозадан тұратын, өсімдікке қажетті қаттылық пен құрылым береді</li>
                            <li>Хлоропласттар - фотосинтез процесін жүзеге асыратын органеллалар</li>
                            <li>Вакуоль - клетка сүтімен толтырылған үлкен қуыс, клетканың тургорлық қысымын сақтайды</li>
                            <li>Пластидлер - пигменттерді жинақтауға және сақтауға арналған органеллалар</li>
                        </ul>
                        
                        <div class="interactive-element" id="interactive2">
                            <div class="interactive-title">
                                <i class="fas fa-chevron-right"></i>
                                <span id="interactive2-title">Клетка құрылымының қызықты фактілері</span>
                            </div>
                            <div class="interactive-content">
                                <p id="interactive2-text">Өсімдік клеткаларының вакуолдері кейде клетка көлемінің 90%-ын алып жүруі мүмкін. Хлоропласттарда хлорофилл деп аталатын жасыл пигмент болады, ол күн сәулесін сіңіреді.</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="slide-section" id="section3">
                    <button class="bookmark-btn" id="bookmark3" data-section="section3">
                        <i class="far fa-bookmark"></i>
                    </button>
                    <div class="section-completion" id="section3-completion">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <h2 class="section-title" id="section3-title-toggle">
                        <i class="fas fa-chevron-down"></i> <span id="slide-title">Презентация</span>
                    </h2>
                    <div class="section-content" id="section3-content">
                        <div class="slide-container">
                            <iframe id="slide-iframe" src="https://docs.google.com/presentation/d/1WvYpHdp_VSN-bBqXTpLLPLj5hDqPeWEucxib-_DhcWU/embed?start=false&loop=false&delayms=3000" 
                                    frameborder="0" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true"></iframe>
                        </div>
                        <p class="slide-note" id="slide-note">Презентацияны толық экран режимінде қарау үшін оны ашыңыз</p>
                    </div>
                </div>
                
                <div class="video-section" id="section-video">
                    <button class="bookmark-btn" id="bookmark-video" data-section="section-video">
                        <i class="far fa-bookmark"></i>
                    </button>
                    <div class="section-completion" id="section-video-completion">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <h2 class="section-title" id="section-video-title-toggle">
                        <i class="fas fa-chevron-down"></i> <span id="video-title">Білімдік бейне: Өсімдіктердің құрылымы</span>
                    </h2>
                    <div class="section-content" id="section-video-content">
                        <div class="video-container">
                            <iframe id="video-iframe" src="https://www.youtube.com/embed/dQw4w9WgXcQ?si=btXXg5qp5o9OMOg9" 
                                    frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                    allowfullscreen></iframe>
                        </div>
                        <p class="video-note" id="video-note">Бейнені толық экран режимінде қарау үшін оны ашыңыз</p>
                        
                        <div class="important-note">
                            <h4><i class="fas fa-info-circle"></i> <span id="video-note-title">Бейне туралы</span></h4>
                            <p id="video-note-text">Бұл бейнеде өсімдіктердің негізгі құрылымдары мен олардың функциялары туралы қызықты ақпарат беріледі. Өсімдіктердің тамыр, сабақ, жапырақ және гүлдерінің қызметтері егжей-тегжейлі түсіндіріледі.</p>
                        </div>
                    </div>
                </div>
                
                <div class="content-section" id="section4">
                    <button class="bookmark-btn" id="bookmark4" data-section="section4">
                        <i class="far fa-bookmark"></i>
                    </button>
                    <div class="section-completion" id="section4-completion">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <h2 class="section-title" id="section4-title-toggle">
                        <i class="fas fa-chevron-down"></i> <span id="section3-title">Өсімдіктердің тіндері: түрлері мен функциялары</span>
                    </h2>
                    <div class="section-content" id="section4-content">
                        <p id="section3-p1">Өсімдіктерде бірнеше негізгі тін түрлері бар, әрқайсысы өзіндік функцияларды атқарады:</p>
                        
                        <table class="comparison-table" id="table1-desktop">
                            <thead>
                                <tr>
                                    <th id="table-header1">Тін түрі</th>
                                    <th id="table-header2">Функциялары</th>
                                    <th id="table-header3">Орналасуы</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td id="table1-cell1">Өсу тіні (меристема)</td>
                                    <td id="table1-cell2">Өсімдіктің өсуін қамтамасыз етеді</td>
                                    <td id="table1-cell3">Сабақ ұшында, тамыр ұшында, бүршіклерде</td>
                                </tr>
                                <tr>
                                    <td id="table2-cell1">Қабық тіні</td>
                                    <td id="table2-cell2">Өсімдікті сыртқы әсерлерден қорғайды</td>
                                    <td id="table2-cell3">Өсімдіктің сыртқу бетінде</td>
                                </tr>
                                <tr>
                                    <td id="table3-cell1">Негізгі тін</td>
                                    <td id="table3-cell2">Фотосинтез, қоректену заттарын жинақтау</td>
                                    <td id="table3-cell3">Жапырақтарда, сабақтарда, жемістерде</td>
                                </tr>
                                <tr>
                                    <td id="table4-cell1">Жеткізуші тін</td>
                                    <td id="table4-cell2">Су мен қоректік заттарды тасымалдау</td>
                                    <td id="table4-cell3">Сабақтарда, тамырларда, тамыржолдарында</td>
                                </tr>
                                <tr>
                                    <td id="table5-cell1">Механикалық тін</td>
                                    <td id="table5-cell2">Қаттылық пен тұрақтылықты қамтамасыз етеді</td>
                                    <td id="table5-cell3">Сабақтарда, тамырларда, тамыржолдарында</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <div class="content-section" id="section5">
                    <button class="bookmark-btn" id="bookmark5" data-section="section5">
                        <i class="far fa-bookmark"></i>
                    </button>
                    <div class="section-completion" id="section5-completion">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <h2 class="section-title" id="section5-title-toggle">
                        <i class="fas fa-chevron-down"></i> <span id="section4-title">Өсімдіктер мен басқа организмдерді салыстыру</span>
                    </h2>
                    <div class="section-content" id="section5-content">
                        <p id="section4-p1">Өсімдіктерді жануарлар мен саңырауқұлақтардан ажырататын негізгі ерекшеліктер:</p>
                        
                        <table class="comparison-table" id="table2-desktop">
                            <thead>
                                <tr>
                                    <th id="table2-header1">Сипаттама</th>
                                    <th id="table2-header2">Өсімдіктер</th>
                                    <th id="table2-header3">Жануарлар</th>
                                    <th id="table2-header4">Саңырауқұлақтар</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td id="table2-1-cell1">Азықтану түрі</td>
                                    <td id="table2-1-cell2">Автотрофты (өздігінен)</td>
                                    <td id="table2-1-cell3">Гетеротрофты (дайын)</td>
                                    <td id="table2-1-cell4">Гетеротрофты (дайын)</td>
                                </tr>
                                <tr>
                                    <td id="table2-2-cell1">Қозғалғыштық</td>
                                    <td id="table2-2-cell2">Бекітілген</td>
                                    <td id="table2-2-cell3">Қозғалмалы</td>
                                    <td id="table2-2-cell4">Бекітілген</td>
                                </tr>
                                <tr>
                                    <td id="table2-3-cell1">Клетка қабырғасы</td>
                                    <td id="table2-3-cell2">Целлюлозадан</td>
                                    <td id="table2-3-cell3">Жоқ</td>
                                    <td id="table2-3-cell4">Хитиннен</td>
                                </tr>
                                <tr>
                                    <td id="table2-4-cell1">Энергия көзі</td>
                                    <td id="table2-4-cell2">Күн сәулесі</td>
                                    <td id="table2-4-cell3">Органикалық заттар</td>
                                    <td id="table2-4-cell4">Органикалық заттар</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            `;
            
            initializeContent('desktop-version');
        }
        
        function loadMobileContent() {
            const mobileVersion = document.getElementById('mobile-version');
            mobileVersion.innerHTML = `
                <div class="content-section" id="section1">
                    <button class="bookmark-btn" id="bookmark1" data-section="section1">
                        <i class="far fa-bookmark"></i>
                    </button>
                    <div class="section-completion" id="section1-completion">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <h2 class="section-title" id="section1-title-toggle">
                        <i class="fas fa-chevron-down"></i> <span id="section1-title">Өсімдіктер деген не? Табиғаттағы рөлі</span>
                    </h2>
                    <div class="section-content" id="section1-content">
                        <p id="section1-p1">Өсімдіктер - бұл көпжасушалы организмдер (кейбір біржасушалы балдырларды қоспағанда), фотосинтез арқылы органикалық заттар мен оттегі өндіре алатын, ол Жердегі өмірдің негізі болып табылады. Олар азық тізбегінің бастапқы буыны болып табылады және көптеген жануарлар, саңырауқұлақтар мен микроорганизмдерге азық болып, сондай-ақ олардың тіршілік ортасы қызметін атқарады.</p>
                        
                        <div class="important-note">
                            <h4><i class="fas fa-lightbulb"></i> <span id="important-note1">Негізгі айырмашылық</span></h4>
                            <p id="important-note1-text">Өсімдіктердің басқа организмдерден негізгі айырмашылығы - олар күн энергиясы, су және көмірқышқыл газын пайдаланып органикалық заттарды өздері жасай алады (автотрофты азықтану). Сонымен қатар, өсімдіктер әдетте бекітілген тіршілік етеді және бүкіл өмірінде өседі.</p>
                        </div>
                        
                        <div class="interactive-element" id="interactive1">
                            <div class="interactive-title">
                                <i class="fas fa-chevron-right"></i>
                                <span id="interactive1-title">Фотосинтез туралы қосымша ақпарат</span>
                            </div>
                            <div class="interactive-content">
                                <p id="interactive1-text">Фотосинтез - бұл өсімдіктердің күн энергиясын химиялық энергияға айналдыру процесі. Бұл процесс кезінде көмірқышқыл газы мен су қант пен оттегіге айналады. Фотосинтез теңдеуі: 6CO₂ + 6H₂O + жарық энергиясы → C₆H₁₂O₆ + 6O₂</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="content-section" id="section2">
                    <button class="bookmark-btn" id="bookmark2" data-section="section2">
                        <i class="far fa-bookmark"></i>
                    </button>
                    <div class="section-completion" id="section2-completion">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <h2 class="section-title" id="section2-title-toggle">
                        <i class="fas fa-chevron-down"></i> <span id="section2-title">Өсімдіктердің клеткалық құрылымы</span>
                    </h2>
                    <div class="section-content" id="section2-content">
                        <p id="section2-p1">Өсімдік клеткаларының бірқатар ерекше органеллалары бар, олар өсімдіктерге өзіндік қасиеттер береді:</p>
                        
                        <ul id="section2-list">
                            <li>Клетка қабырғасы - целлюлозадан тұратын, өсімдікке қажетті қаттылық пен құрылым береді</li>
                            <li>Хлоропласттар - фотосинтез процесін жүзеге асыратын органеллалар</li>
                            <li>Вакуоль - клетка сүтімен толтырылған үлкен қуыс, клетканың тургорлық қысымын сақтайды</li>
                            <li>Пластидлер - пигменттерді жинақтауға және сақтауға арналған органеллалар</li>
                        </ul>
                        
                        <div class="interactive-element" id="interactive2">
                            <div class="interactive-title">
                                <i class="fas fa-chevron-right"></i>
                                <span id="interactive2-title">Клетка құрылымының қызықты фактілері</span>
                            </div>
                            <div class="interactive-content">
                                <p id="interactive2-text">Өсімдік клеткаларының вакуолдері кейде клетка көлемінің 90%-ын алып жүруі мүмкін. Хлоропласттарда хлорофилл деп аталатын жасыл пигмент болады, ол күн сәулесін сіңіреді.</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="slide-section" id="section3">
                    <button class="bookmark-btn" id="bookmark3" data-section="section3">
                        <i class="far fa-bookmark"></i>
                    </button>
                    <div class="section-completion" id="section3-completion">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <h2 class="section-title" id="section3-title-toggle">
                        <i class="fas fa-chevron-down"></i> <span id="slide-title">Презентация</span>
                    </h2>
                    <div class="section-content" id="section3-content">
                        <div class="slide-container">
                            <iframe id="slide-iframe" src="https://docs.google.com/presentation/d/1WvYpHdp_VSN-bBqXTpLLPLj5hDqPeWEucxib-_DhcWU/embed?start=false&loop=false&delayms=3000" 
                                    frameborder="0" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true"></iframe>
                        </div>
                        <p class="slide-note" id="slide-note">Презентацияны толық экран режимінде қарау үшін оны ашыңыз</p>
                    </div>
                </div>
                
                <div class="video-section" id="section-video">
                    <button class="bookmark-btn" id="bookmark-video" data-section="section-video">
                        <i class="far fa-bookmark"></i>
                    </button>
                    <div class="section-completion" id="section-video-completion">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <h2 class="section-title" id="section-video-title-toggle">
                        <i class="fas fa-chevron-down"></i> <span id="video-title">Білімдік бейне: Өсімдіктердің құрылымы</span>
                    </h2>
                    <div class="section-content" id="section-video-content">
                        <div class="video-container">
                            <iframe id="video-iframe" src="https://www.youtube.com/embed/dQw4w9WgXcQ?si=btXXg5qp5o9OMOg9" 
                                    frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                    allowfullscreen></iframe>
                        </div>
                        <p class="video-note" id="video-note">Бейнені толық экран режимінде қарау үшін оны ашыңыз</p>
                        
                        <div class="important-note">
                            <h4><i class="fas fa-info-circle"></i> <span id="video-note-title">Бейне туралы</span></h4>
                            <p id="video-note-text">Бұл бейнеде өсімдіктердің негізгі құрылымдары мен олардың функциялары туралы қызықты ақпарат беріледі. Өсімдіктердің тамыр, сабақ, жапырақ және гүлдерінің қызметтері егжей-тегжейлі түсіндіріледі.</p>
                        </div>
                    </div>
                </div>
                
                <div class="content-section" id="section4">
                    <button class="bookmark-btn" id="bookmark4" data-section="section4">
                        <i class="far fa-bookmark"></i>
                    </button>
                    <div class="section-completion" id="section4-completion">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <h2 class="section-title" id="section4-title-toggle">
                        <i class="fas fa-chevron-down"></i> <span id="section3-title">Өсімдіктердің тіндері: түрлері мен функциялары</span>
                    </h2>
                    <div class="section-content" id="section4-content">
                        <p id="section3-p1">Өсімдіктерде бірнеше негізгі тін түрлері бар, әрқайсысы өзіндік функцияларды атқарады:</p>
                        
                        <div class="mobile-cards" id="table1-mobile">
                            <div class="mobile-card">
                                <h4>Өсу тіні (меристема)</h4>
                                <div class="card-row">
                                    <div class="card-label">Функциялары:</div>
                                    <div class="card-value">Өсімдіктің өсуін қамтамасыз етеді</div>
                                </div>
                                <div class="card-row">
                                    <div class="card-label">Орналасуы:</div>
                                    <div class="card-value">Сабақ ұшында, тамыр ұшында, бүршіклерде</div>
                                </div>
                            </div>
                            <div class="mobile-card">
                                <h4>Қабық тіні</h4>
                                <div class="card-row">
                                    <div class="card-label">Функциялары:</div>
                                    <div class="card-value">Өсімдікті сыртқы әсерлерден қорғайды</div>
                                </div>
                                <div class="card-row">
                                    <div class="card-label">Орналасуы:</div>
                                    <div class="card-value">Өсімдіктің сыртқы бетінде</div>
                                </div>
                            </div>
                            <div class="mobile-card">
                                <h4>Негізгі тін</h4>
                                <div class="card-row">
                                    <div class="card-label">Функциялары:</div>
                                    <div class="card-value">Фотосинтез, қоректену заттарын жинақтау</div>
                                </div>
                                <div class="card-row">
                                    <div class="card-label">Орналасуы:</div>
                                    <div class="card-value">Жапырақтарда, сабақтарда, жемістерде</div>
                                </div>
                            </div>
                            <div class="mobile-card">
                                <h4>Жеткізуші тін</h4>
                                <div class="card-row">
                                    <div class="card-label">Функциялары:</div>
                                    <div class="card-value">Су мен қоректік заттарды тасымалдау</div>
                                </div>
                                <div class="card-row">
                                    <div class="card-label">Орналасуы:</div>
                                    <div class="card-value">Сабақтарда, тамырларда, тамыржолдарында</div>
                                </div>
                            </div>
                            <div class="mobile-card">
                                <h4>Механикалық тін</h4>
                                <div class="card-row">
                                    <div class="card-label">Функциялары:</div>
                                    <div class="card-value">Қаттылық пен тұрақтылықты қамтамасыз етеді</div>
                                </div>
                                <div class="card-row">
                                    <div class="card-label">Орналасуы:</div>
                                    <div class="card-value">Сабақтарда, тамырларда, тамыржолдарында</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="content-section" id="section5">
                    <button class="bookmark-btn" id="bookmark5" data-section="section5">
                        <i class="far fa-bookmark"></i>
                    </button>
                    <div class="section-completion" id="section5-completion">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <h2 class="section-title" id="section5-title-toggle">
                        <i class="fas fa-chevron-down"></i> <span id="section4-title">Өсімдіктер мен басқа организмдерді салыстыру</span>
                    </h2>
                    <div class="section-content" id="section5-content">
                        <p id="section4-p1">Өсімдіктерді жануарлар мен саңырауқұлақтардан ажырататын негізгі ерекшеліктер:</p>
                        
                        <div class="mobile-cards" id="table2-mobile">
                            <div class="mobile-card">
                                <h4>Азықтану түрі</h4>
                                <div class="card-row">
                                    <div class="card-label">Өсімдіктер:</div>
                                    <div class="card-value">Автотрофты (өздігінен)</div>
                                </div>
                                <div class="card-row">
                                    <div class="card-label">Жануарлар:</div>
                                    <div class="card-value">Гетеротрофты (дайын)</div>
                                </div>
                                <div class="card-row">
                                    <div class="card-label">Саңырауқұлақтар:</div>
                                    <div class="card-value">Гетеротрофты (дайын)</div>
                                </div>
                            </div>
                            <div class="mobile-card">
                                <h4>Қозғалғыштық</h4>
                                <div class="card-row">
                                    <div class="card-label">Өсімдіктер:</div>
                                    <div class="card-value">Бекітілген</div>
                                </div>
                                <div class="card-row">
                                    <div class="card-label">Жануарлар:</div>
                                    <div class="card-value">Қозғалмалы</div>
                                </div>
                                <div class="card-row">
                                    <div class="card-label">Саңырауқұлақтар:</div>
                                    <div class="card-value">Бекітілген</div>
                                </div>
                            </div>
                            <div class="mobile-card">
                                <h4>Клетка қабырғасы</h4>
                                <div class="card-row">
                                    <div class="card-label">Өсімдіктер:</div>
                                    <div class="card-value">Целлюлозадан</div>
                                </div>
                                <div class="card-row">
                                    <div class="card-label">Жануарлар:</div>
                                    <div class="card-value">Жоқ</div>
                                </div>
                                <div class="card-row">
                                    <div class="card-label">Саңырауқұлақтар:</div>
                                    <div class="card-value">Хитиннен</div>
                                </div>
                            </div>
                            <div class="mobile-card">
                                <h4>Энергия көзі</h4>
                                <div class="card-row">
                                    <div class="card-label">Өсімдіктер:</div>
                                    <div class="card-value">Күн сәулесі</div>
                                </div>
                                <div class="card-row">
                                    <div class="card-label">Жануарлар:</div>
                                    <div class="card-value">Органикалық заттар</div>
                                </div>
                                <div class="card-row">
                                    <div class="card-label">Саңырауқұлақтар:</div>
                                    <div class="card-value">Органикалық заттар</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            initializeContent('mobile-version');
        }
        
        function initializeContent(version) {
            setupBookmarks();
            setupCollapsibleSections();
            setupInteractiveElements();
            
            if (document.documentElement.lang === 'kk') {
                setKazakhLanguage();
            } else {
                setRussianLanguage();
            }
        }

        function setupBookmarks() {
            const bookmarkButtons = document.querySelectorAll('.bookmark-btn');
            
            bookmarkButtons.forEach(btn => {
                const user = JSON.parse(localStorage.getItem('currentUser'));
                if (user && user.bookmarks && user.bookmarks.module1) {
                    const sectionId = btn.getAttribute('data-section');
                    if (user.bookmarks.module1.includes(sectionId)) {
                        btn.classList.add('active');
                        btn.innerHTML = '<i class="fas fa-bookmark"></i>';
                    }
                }
                
                btn.addEventListener('click', function() {
                    const sectionId = this.getAttribute('data-section');
                    const user = JSON.parse(localStorage.getItem('currentUser'));
                    
                    if (user) {
                        if (!user.bookmarks) user.bookmarks = {};
                        if (!user.bookmarks.module1) user.bookmarks.module1 = [];
                        
                        const index = user.bookmarks.module1.indexOf(sectionId);
                        
                        if (index === -1) {
                            user.bookmarks.module1.push(sectionId);
                            this.classList.add('active');
                            this.innerHTML = '<i class="fas fa-bookmark"></i>';
                            showNotification('Бетбелгі қосылды!', 'success');
                        } else {
                            user.bookmarks.module1.splice(index, 1);
                            this.classList.remove('active');
                            this.innerHTML = '<i class="far fa-bookmark"></i>';
                            showNotification('Бетбелгі жойылды!', 'info');
                        }
                        
                        localStorage.setItem('currentUser', JSON.stringify(user));
                        
                        const users = JSON.parse(localStorage.getItem('plantBiologyUsers')) || [];
                        const userIndex = users.findIndex(u => u.id === user.id);
                        if (userIndex !== -1) {
                            users[userIndex] = user;
                            localStorage.setItem('plantBiologyUsers', JSON.stringify(users));
                        }
                    }
                });
            });
        }
        
        function setupCollapsibleSections() {
            const sectionTitles = document.querySelectorAll('.section-title');
            
            sectionTitles.forEach(title => {
                title.addEventListener('click', function() {
                    const content = this.nextElementSibling;
                    this.classList.toggle('collapsed');
                    content.classList.toggle('collapsed');
                    
                    if (!content.classList.contains('collapsed')) {
                        this.parentElement.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }
                });
            });
        }
        
        function setupInteractiveElements() {
            const interactiveElements = document.querySelectorAll('.interactive-element');
            
            interactiveElements.forEach(element => {
                const title = element.querySelector('.interactive-title');
                
                title.addEventListener('click', function() {
                    element.classList.toggle('active');
                });
            });
        }
        
        function setupNotesSystem() {
            const notesTextarea = document.getElementById('user-notes');
            const saveNotesBtn = document.getElementById('save-notes-btn');
            
            const user = JSON.parse(localStorage.getItem('currentUser'));
            if (user && user.notes && user.notes.module1) {
                notesTextarea.value = user.notes.module1;
            }
            
            saveNotesBtn.addEventListener('click', function() {
                const user = JSON.parse(localStorage.getItem('currentUser'));
                if (user) {
                    if (!user.notes) user.notes = {};
                    user.notes.module1 = notesTextarea.value;
                    
                    localStorage.setItem('currentUser', JSON.stringify(user));
                    
                    const users = JSON.parse(localStorage.getItem('plantBiologyUsers')) || [];
                    const userIndex = users.findIndex(u => u.id === user.id);
                    if (userIndex !== -1) {
                        users[userIndex] = user;
                        localStorage.setItem('plantBiologyUsers', JSON.stringify(users));
                    }
                    
                    showNotification('Жазбалар сақталды!', 'success');
                }
            });
            
            setInterval(() => {
                if (notesTextarea.value !== '') {
                    saveNotesBtn.click();
                }
            }, 30000);
        }
        
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.textContent = message;
            notification.style.position = 'fixed';
            notification.style.top = '15px';
            notification.style.right = '15px';
            notification.style.padding = '12px 16px';
            notification.style.borderRadius = '5px';
            notification.style.color = 'white';
            notification.style.zIndex = '1000';
            notification.style.transition = 'all 0.3s ease';
            notification.style.fontSize = '0.9rem';
            
            if (type === 'success') {
                notification.style.background = '#4caf50';
            } else if (type === 'error') {
                notification.style.background = '#f44336';
            } else {
                notification.style.background = '#2196f3';
            }
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.opacity = '0';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }
        
        function checkAuth() {
            const user = JSON.parse(localStorage.getItem('currentUser'));
            if (!user) {
                alert('Бұл модульді көру үшін жүйеге кіру қажет!');
                window.location.href = 'index.html';
                return false;
            }
            return user;
        }

        function showUserInfo(user) {
            document.getElementById('user-info').style.display = 'flex';
            document.getElementById('user-name').textContent = user.name;
        }

        function logout() {
            localStorage.removeItem('currentUser');
            window.location.href = 'index.html';
        }

        function setKazakhLanguage() {
            document.documentElement.lang = 'kk';
            document.getElementById('ru-btn').classList.remove('active');
            document.getElementById('kz-btn').classList.add('active');
            
            document.getElementById('logo-text').textContent = "Жасыл әлем";
            document.getElementById('back-text').textContent = "Модульдер тізімі";
            document.getElementById('module-title').textContent = "Модуль 1: Өсімдіктер әлеміне кіріспе";
            document.getElementById('module-subtitle').textContent = "Өсімдіктердің жіктелуі, құрылымы және табиғаттағы маңызы";
            document.getElementById('completed-text').textContent = "Аяқталды";
            document.getElementById('progress-text').textContent = "Оқу процесі:";
            document.getElementById('notes-title').textContent = "Жеке жазбалар";
            document.getElementById('save-notes-text').textContent = "Сақтау";
            document.getElementById('congrats-text').textContent = "Құттықтаймыз!";
            document.getElementById('completion-desc').textContent = "Сіз бұл модульді сәтті аяқтадыңыз. Келесі модульге өтуге дайынсыз!";
            document.getElementById('test-btn-text').textContent = "Модуль бойынша тестті тапсыру";
            document.getElementById('prev-btn').textContent = "Модульдер тізімі";
            document.getElementById('next-btn').textContent = "Келесі модуль";
            document.getElementById('logout-text').textContent = "Шығу";
        }

        function setRussianLanguage() {
            document.documentElement.lang = 'ru';
            document.getElementById('kz-btn').classList.remove('active');
            document.getElementById('ru-btn').classList.add('active');
            
            document.getElementById('logo-text').textContent = "Зеленый мир";
            document.getElementById('back-text').textContent = "Список модулей";
            document.getElementById('module-title').textContent = "Модуль 1: Введение в мир растений";
            document.getElementById('module-subtitle').textContent = "Классификация, строение и значение растений в природе";
            document.getElementById('completed-text').textContent = "Завершено";
            document.getElementById('progress-text').textContent = "Процесс обучения:";
            document.getElementById('notes-title').textContent = "Личные заметки";
            document.getElementById('save-notes-text').textContent = "Сохранить";
            document.getElementById('congrats-text').textContent = "Поздравляем!";
            document.getElementById('completion-desc').textContent = "Вы успешно завершили этот модуль. Готовы перейти к следующему!";
            document.getElementById('test-btn-text').textContent = "Пройти тест по модулю";
            document.getElementById('prev-btn').textContent = "Список модулей";
            document.getElementById('next-btn').textContent = "Следующий модуль";
            document.getElementById('logout-text').textContent = "Выйти";
        }
        
        document.addEventListener('DOMContentLoaded', function() {
            const user = checkAuth();
            if (user) {
                showUserInfo(user);
                setupNotesSystem();
            }
            
            setupVersionSwitcher();
            
            setKazakhLanguage();
            
            document.getElementById('ru-btn').addEventListener('click', setRussianLanguage);
            document.getElementById('kz-btn').addEventListener('click', setKazakhLanguage);
            document.getElementById('logout-btn').addEventListener('click', logout);
            
            document.getElementById('next-module-btn').style.pointerEvents = 'none';
            document.getElementById('next-module-btn').style.opacity = '0.5';
        });
    </script>
</body>
</html>
